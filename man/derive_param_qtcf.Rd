% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/derive_adeg_params.R
\name{derive_param_qtcf}
\alias{derive_param_qtcf}
\title{Adds a parameter for corrected QT using Fridericia's formula}
\usage{
derive_param_qtcf(
  dataset,
  filter = NULL,
  new_param = "QTCFR",
  qt_code = "QT",
  rr_code = "RR",
  by_vars,
  unit_var = NULL,
  set_values_to = NULL,
  drop_values_from = vars(ends_with("RESU"))
)
}
\arguments{
\item{dataset}{Input dataset

The variables specified by the \code{by_vars} and the \code{unit_var} parameter,
\code{PARAMCD}, and \code{AVAL} are expected.

The variable specified by \code{by_vars} and \code{PARAMCD} must be a unique key of
the input dataset after restricting it by the filter condition (\code{filter}
parameter) and to the parameters specified by \code{qt_code} and \code{rr_code}.}

\item{filter}{Filter condition

The specified condition is applied to the input dataset before deriving the
new parameter, i.e., only observations fulfilling the condition are taken
into account.

\emph{Permitted Values:} a condition}

\item{new_param}{Parameter code to add

For the new observations \code{PARAMCD} is set to the specified value.

Permitted Values: character value}

\item{qt_code}{QT parameter code

The observations where \code{PARAMCD} equals the specified value are considered
as the QT interval assessments. It is expected that QT is measured in msec.

Permitted Values: character value}

\item{rr_code}{RR parameter code

The observations where \code{PARAMCD} equals the specified value are considered
as the RR interval assessments. It is expected that RR is measured in msec.

Permitted Values: character value}

\item{by_vars}{Grouping variables

Permitted Values: list of variables}

\item{unit_var}{Variable providing the unit of the parameter

The variable is used to check the units of the input parameters and it is
set to \code{"msec"} for the new parameter.

Permitted Values: A variable of the input dataset}

\item{set_values_to}{Variables to be set

The specified variables are set to the specified values for the new
observations. For example \code{vars(PARAMCD = "MAP")} defines the parameter
code for the new parameter.

\emph{Permitted Values:} List of variable-value pairs}
}
\value{
The input dataset with the new parameter added
}
\description{
Adds a record for corrected QT using Fridericia's formula for each by group
(e.g., subject and visit) where the source parameters are available.
}
\details{
The analysis value of the new parameter is derived as
\deqn{\frac{QT}{\sqrt[3]{\frac{RR}{1000}}}}{QT/(RR/1000)^(1/3)}
}
\examples{
adeg <- tibble::tribble(
~USUBJID,      ~PARAMCD, ~PARAM,        ~AVAL, ~AVALU,      ~VISIT,
"01-701-1015", "HR",     "Heart Rate",  70.14, "beats/min", "BASELINE",
"01-701-1015", "QT",     "QT Duration", 370,   "msec",      "WEEK 2",
"01-701-1015", "HR",     "Heart Rate",  62.66, "beats/min", "WEEK 1",
"01-701-1015", "RR",     "RR Duration", 710,   "msec",      "WEEK 2",
"01-701-1028", "HR",     "Heart Rate",  85.45, "beats/min", "BASELINE",
"01-701-1028", "QT",     "QT Duration", 480,   "msec",      "WEEK 2",
"01-701-1028", "QT",     "QT Duration", 350,   "msec",      "WEEK 3",
"01-701-1028", "HR",     "Heart Rate",  56.54, "beats/min", "WEEK 3",
"01-701-1028", "RR",     "RR Duration", 842,   "msec",      "WEEK 2",
)
derive_param_qtcf(
  adeg,
  by_vars = vars(USUBJID, VISIT),
  set_values_to = vars(PARAM = "QTcF - Fridericia's Correction Formula Rederived (msec)"))
}
\author{
Stefan Bundfuss
}
\keyword{adeg}
\keyword{derivation}
