---
title: "Pull Request Review Guidance"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{pr_review_guidance}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

Fo a pull request (PR) to be merged it needs to pass the automated `R CMD check` and `lintr` workflows at a minimum. In addition the PR reviewer should make sure that

Make sure that

- the function header properly explains the function

- documentation is created/updated by running `devtools::document()`

- functions which are supposed to be exported are listed in the `NAMESPACE` file

- examples print source and newly created variables in their output

- the `NEWS.md` file is updated with an entry that explains the new features or changes

- the author of a function is listed in the `DESCRIPTION` file

## Common R CMD Check Issues

`R CMD check` is a command line tool that checks R packages against a standard set of criteria. For a pull request to pass the check must not issue any notes, warnings or errors. Below is a list of common issues and how to resolve them.

### Package Dependencies

```
> checking package dependencies ... ERROR
  Namespace dependency not required: ‘pkg’
```

Add `pkg` to the `Imports` field in the `DESCRIPTION` file.

### Global Variables

```
❯ checking R code for possible problems ... NOTE
  function:xyz: no visible binding for global variable ‘some_var’
```

Add `some_var` to the list of "global" variables in `R/globals.R`.

### Undocumented Function Parameter

```
❯ checking Rd \usage sections ... WARNING
  Undocumented arguments in documentation object 'function_xyz'
    ‘some_param’
```

Add an `@param some_param` section in the header of `function_xyz()` and run `devtools::document()` afterwards.

### Outdated Documentation

```
❯ checking for code/documentation mismatches ... WARNING
  Codoc mismatches from documentation object 'function_xyz':
  ...
  Argument names in code not in docs:
    new_param_name
  Argument names in docs not in code:
    old_param_name
  Mismatches in argument names:
    Position: 6 Code: new_param_name Docs: old_param_name
```

The name of a parameter has been changed in the function code but not yet in the header. Change `@param old_param_name` to `@param new_param_name` and run `devtools::document()`.
